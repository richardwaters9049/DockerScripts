FROM docker:27-cli

RUN apk add --no-cache bash curl unzip libstdc++ libgcc
RUN curl -fsSL https://bun.sh/install | bash
ENV PATH="/root/.bun/bin:${PATH}"

COPY scripts/docker_pyNext_v3 /usr/local/bin/docker_pyNext_v3
COPY dockerhub-entrypoint.sh /usr/local/bin/dockerhub-entrypoint.sh

RUN chmod +x /usr/local/bin/docker_pyNext_v3 /usr/local/bin/dockerhub-entrypoint.sh

WORKDIR /workspace
ENTRYPOINT ["/usr/local/bin/dockerhub-entrypoint.sh"]
